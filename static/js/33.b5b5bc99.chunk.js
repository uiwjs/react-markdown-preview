"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[33],{324:function(e,t,n){n.d(t,{c:function(){return l}});var r=n(7765),i=n(3048);var a=function(e){return(0,i.Z)(e,4)},d=n(7949);n(5969);function l(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:o(e),edges:s(e)};return r.Z(e.graph())||(t.value=a(e.graph())),t}function o(e){return d.Z(e.nodes(),(function(t){var n=e.node(t),i=e.parent(t),a={v:t};return r.Z(n)||(a.value=n),r.Z(i)||(a.parent=i),a}))}function s(e){return d.Z(e.edges(),(function(t){var n=e.edge(t),i={v:t.v,w:t.w};return r.Z(t.name)||(i.name=t.name),r.Z(n)||(i.value=n),i}))}},3033:function(e,t,n){n.d(t,{r:function(){return k}});var r=n(1092),i=n(7791),a=n(726),d=n(649),l=n(6840),o=n(324),s=n(7196),c=n(5094),h=n(9018),g=n(8355),f=n(2386),u={},w={},v={},p=function(e,t){return c.l.trace("In isDecendant",t," ",e," = ",w[t].includes(e)),!!w[t].includes(e)},y=function e(t,n,r,i){c.l.warn("Copying children of ",t,"root",i,"data",n.node(t),i);var a=n.children(t)||[];t!==i&&a.push(t),c.l.warn("Copying (nodes) clusterId",t,"nodes",a),a.forEach((function(a){if(n.children(a).length>0)e(a,n,r,i);else{var d=n.node(a);c.l.info("cp ",a," to ",i," with parent ",t),r.setNode(a,d),i!==n.parent(a)&&(c.l.warn("Setting parent",a,n.parent(a)),r.setParent(a,n.parent(a))),t!==i&&a!==t?(c.l.debug("Setting parent",a,t),r.setParent(a,t)):(c.l.info("In copy ",t,"root",i,"data",n.node(t),i),c.l.debug("Not Setting parent for node=",a,"cluster!==rootId",t!==i,"node!==clusterId",a!==t));var l=n.edges(a);c.l.debug("Copying Edges",l),l.forEach((function(e){c.l.info("Edge",e);var a=n.edge(e.v,e.w,e.name);c.l.info("Edge data",a,i);try{!function(e,t){return c.l.info("Decendants of ",t," is ",w[t]),c.l.info("Edge is ",e),e.v!==t&&e.w!==t&&(w[t]?w[t].includes(e.v)||p(e.v,t)||p(e.w,t)||w[t].includes(e.w):(c.l.debug("Tilt, ",t,",not in decendants"),!1))}(e,i)?c.l.info("Skipping copy of edge ",e.v,"--\x3e",e.w," rootId: ",i," clusterId:",t):(c.l.info("Copying as ",e.v,e.w,a,e.name),r.setEdge(e.v,e.w,a,e.name),c.l.info("newGraph edges ",r.edges(),r.edge(r.edges()[0])))}catch(d){c.l.error(d)}}))}c.l.debug("Removing node",a),n.removeNode(a)}))},x=function e(t,n){var r,i=n.children(t),l=(0,d.Z)(i),o=(0,a.Z)(i);try{for(o.s();!(r=o.n()).done;){var s=r.value;v[s]=t,l=[].concat((0,d.Z)(l),(0,d.Z)(e(s,n)))}}catch(c){o.e(c)}finally{o.f()}return l},b=function e(t,n){c.l.trace("Searching",t);var r=n.children(t);if(c.l.trace("Searching children of id ",t,r),r.length<1)return c.l.trace("This is a valid node",t),t;var i,d=(0,a.Z)(r);try{for(d.s();!(i=d.n()).done;){var l=e(i.value,n);if(l)return c.l.trace("Found replacement for",t," => ",l),l}}catch(o){d.e(o)}finally{d.f()}},m=function(e){return u[e]&&u[e].externalConnections&&u[e]?u[e].id:e},N=function(e,t){!e||t>10?c.l.debug("Opting out, no graph "):(c.l.debug("Opting in, graph "),e.nodes().forEach((function(t){e.children(t).length>0&&(c.l.warn("Cluster identified",t," Replacement id in edges: ",b(t,e)),w[t]=x(t,e),u[t]={id:b(t,e),clusterData:e.node(t)})})),e.nodes().forEach((function(t){var n=e.children(t),r=e.edges();n.length>0?(c.l.debug("Cluster identified",t,w),r.forEach((function(e){e.v!==t&&e.w!==t&&(p(e.v,t)^p(e.w,t)&&(c.l.warn("Edge: ",e," leaves cluster ",t),c.l.warn("Decendants of XXX ",t,": ",w[t]),u[t].externalConnections=!0))}))):c.l.debug("Not a cluster ",t,w)})),e.edges().forEach((function(t){var n=e.edge(t);c.l.warn("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(t)),c.l.warn("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(e.edge(t)));var r=t.v,i=t.w;if(c.l.warn("Fix XXX",u,"ids:",t.v,t.w,"Translating: ",u[t.v]," --- ",u[t.w]),u[t.v]&&u[t.w]&&u[t.v]===u[t.w]){c.l.warn("Fixing and trixing link to self - removing XXX",t.v,t.w,t.name),c.l.warn("Fixing and trixing - removing XXX",t.v,t.w,t.name),r=m(t.v),i=m(t.w),e.removeEdge(t.v,t.w,t.name);var a=t.w+"---"+t.v;e.setNode(a,{domId:a,id:a,labelStyle:"",labelText:n.label,padding:0,shape:"labelRect",style:""});var d=JSON.parse(JSON.stringify(n)),l=JSON.parse(JSON.stringify(n));d.label="",d.arrowTypeEnd="none",l.label="",d.fromCluster=t.v,l.toCluster=t.v,e.setEdge(r,a,d,t.name+"-cyclic-special"),e.setEdge(a,i,l,t.name+"-cyclic-special")}else(u[t.v]||u[t.w])&&(c.l.warn("Fixing and trixing - removing XXX",t.v,t.w,t.name),r=m(t.v),i=m(t.w),e.removeEdge(t.v,t.w,t.name),r!==t.v&&(n.fromCluster=t.v),i!==t.w&&(n.toCluster=t.w),c.l.warn("Fix Replacing with XXX",r,i,t.name),e.setEdge(r,i,n,t.name))})),c.l.warn("Adjusted Graph",o.c(e)),X(e,0),c.l.trace(u))},X=function e(t,n){if(c.l.warn("extractor - ",n,o.c(t),t.children("D")),n>10)c.l.error("Bailing out");else{var r,i=t.nodes(),d=!1,l=(0,a.Z)(i);try{for(l.s();!(r=l.n()).done;){var s=r.value,g=t.children(s);d=d||g.length>0}}catch(E){l.e(E)}finally{l.f()}if(d){c.l.debug("Nodes = ",i,n);var f,w=(0,a.Z)(i);try{for(w.s();!(f=w.n()).done;){var v=f.value;if(c.l.debug("Extracting node",v,u,u[v]&&!u[v].externalConnections,!t.parent(v),t.node(v),t.children("D")," Depth ",n),u[v])if(!u[v].externalConnections&&t.children(v)&&t.children(v).length>0){c.l.warn("Cluster without external connections, without a parent and with children",v,n);var p="TB"===t.graph().rankdir?"LR":"TB";u[v]&&u[v].clusterData&&u[v].clusterData.dir&&(p=u[v].clusterData.dir,c.l.warn("Fixing dir",u[v].clusterData.dir,p));var x=new h.k({multigraph:!0,compound:!0}).setGraph({rankdir:p,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}}));c.l.warn("Old graph before copy",o.c(t)),y(v,t,x,v),t.setNode(v,{clusterNode:!0,id:v,clusterData:u[v].clusterData,labelText:u[v].labelText,graph:x}),c.l.warn("New graph after copy node: (",v,")",o.c(x)),c.l.debug("Old graph after copy",o.c(t))}else c.l.warn("Cluster ** ",v," **not meeting the criteria !externalConnections:",!u[v].externalConnections," no parent: ",!t.parent(v)," children ",t.children(v)&&t.children(v).length>0,t.children("D"),n),c.l.debug(u);else c.l.debug("Not a cluster",v,n)}}catch(E){w.e(E)}finally{w.f()}i=t.nodes(),c.l.warn("New list of nodes",i);var b,m=(0,a.Z)(i);try{for(m.s();!(b=m.n()).done;){var N=b.value,X=t.node(N);c.l.warn(" Now next level",N,X),X.clusterNode&&e(X.graph,n+1)}}catch(E){m.e(E)}finally{m.f()}}else c.l.debug("Done, no node has children",t.nodes())}},E=function e(t,n){if(0===n.length)return[];var r=Object.assign(n);return n.forEach((function(n){var i=t.children(n),a=e(t,i);r=[].concat((0,d.Z)(r),(0,d.Z)(a))})),r},C=function(e){return E(e,e.children())},S={rect:function(e,t){c.l.info("Creating subgraph rect for ",t.id,t);var n=e.insert("g").attr("class","cluster"+(t.class?" "+t.class:"")).attr("id",t.id),r=n.insert("rect",":first-child"),i=(0,c.n)((0,c.c)().flowchart.htmlLabels),a=n.insert("g").attr("class","cluster-label"),d="markdown"===t.labelType?(0,g.c)(a,t.labelText,{style:t.labelStyle,useHtmlLabels:i}):a.node().appendChild((0,s.c)(t.labelText,t.labelStyle,void 0,!0)),l=d.getBBox();if((0,c.n)((0,c.c)().flowchart.htmlLabels)){var o=d.children[0],h=(0,f.Ys)(d);l=o.getBoundingClientRect(),h.attr("width",l.width),h.attr("height",l.height)}var u=0*t.padding,w=u/2,v=t.width<=l.width+u?l.width+u:t.width;t.width<=l.width+u?t.diff=(l.width-t.width)/2-t.padding/2:t.diff=-t.padding/2,c.l.trace("Data ",t,JSON.stringify(t)),r.attr("style",t.style).attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-v/2).attr("y",t.y-t.height/2-w).attr("width",v).attr("height",t.height+u),i?a.attr("transform","translate("+(t.x-l.width/2)+", "+(t.y-t.height/2)+")"):a.attr("transform","translate("+t.x+", "+(t.y-t.height/2)+")");var p=r.node().getBBox();return t.width=p.width,t.height=p.height,t.intersect=function(e){return(0,s.i)(t,e)},n},roundedWithTitle:function(e,t){var n=e.insert("g").attr("class",t.classes).attr("id",t.id),r=n.insert("rect",":first-child"),i=n.insert("g").attr("class","cluster-label"),a=n.append("rect"),d=i.node().appendChild((0,s.c)(t.labelText,t.labelStyle,void 0,!0)),l=d.getBBox();if((0,c.n)((0,c.c)().flowchart.htmlLabels)){var o=d.children[0],h=(0,f.Ys)(d);l=o.getBoundingClientRect(),h.attr("width",l.width),h.attr("height",l.height)}l=d.getBBox();var g=0*t.padding,u=g/2,w=t.width<=l.width+t.padding?l.width+t.padding:t.width;t.width<=l.width+t.padding?t.diff=(l.width+0*t.padding-t.width)/2:t.diff=-t.padding/2,r.attr("class","outer").attr("x",t.x-w/2-u).attr("y",t.y-t.height/2-u).attr("width",w+g).attr("height",t.height+g),a.attr("class","inner").attr("x",t.x-w/2-u).attr("y",t.y-t.height/2-u+l.height-1).attr("width",w+g).attr("height",t.height+g-l.height-3),i.attr("transform","translate("+(t.x-l.width/2)+", "+(t.y-t.height/2-t.padding/3+((0,c.n)((0,c.c)().flowchart.htmlLabels)?5:3))+")");var v=r.node().getBBox();return t.height=v.height,t.intersect=function(e){return(0,s.i)(t,e)},n},noteGroup:function(e,t){var n=e.insert("g").attr("class","note-cluster").attr("id",t.id),r=n.insert("rect",":first-child"),i=0*t.padding,a=i/2;r.attr("rx",t.rx).attr("ry",t.ry).attr("x",t.x-t.width/2-a).attr("y",t.y-t.height/2-a).attr("width",t.width+i).attr("height",t.height+i).attr("fill","none");var d=r.node().getBBox();return t.width=d.width,t.height=d.height,t.intersect=function(e){return(0,s.i)(t,e)},n},divider:function(e,t){var n=e.insert("g").attr("class",t.classes).attr("id",t.id),r=n.insert("rect",":first-child"),i=0*t.padding,a=i/2;r.attr("class","divider").attr("x",t.x-t.width/2-a).attr("y",t.y-t.height/2).attr("width",t.width+i).attr("height",t.height+i);var d=r.node().getBBox();return t.width=d.width,t.height=d.height,t.diff=-t.padding/2,t.intersect=function(e){return(0,s.i)(t,e)},n}},Z={},D=function(e,t){c.l.trace("Inserting cluster");var n=t.shape||"rect";Z[t.id]=S[n](e,t)},O=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n,a,d){var h,g,f,w,v,p,y;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.l.info("Graph in recursive render: XXX",o.c(n),d),h=n.graph().rankdir,c.l.trace("Dir in recursive render - dir:",h),g=t.insert("g").attr("class","root"),n.nodes()?c.l.info("Recursive render XXX",n.nodes()):c.l.info("No nodes found for",n),n.edges().length>0&&c.l.trace("Recursive edges",n.edge(n.edges()[0])),f=g.insert("g").attr("class","clusters"),w=g.insert("g").attr("class","edgePaths"),v=g.insert("g").attr("class","edgeLabels"),p=g.insert("g").attr("class","nodes"),e.next=12,Promise.all(n.nodes().map(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var i,l,o,g;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.node(t),void 0!==d&&(l=JSON.parse(JSON.stringify(d.clusterData)),c.l.info("Setting data for cluster XXX (",t,") ",l,d),n.setNode(d.id,l),n.parent(t)||(c.l.trace("Setting parent",t,d.id),n.setParent(t,d.id,l))),c.l.info("(Insert) Node XXX"+t+": "+JSON.stringify(n.node(t))),!i||!i.clusterNode){e.next=16;break}return c.l.info("Cluster identified",t,i.width,n.node(t)),e.next=7,O(p,i.graph,a,n.node(t));case 7:o=e.sent,g=o.elem,(0,s.u)(i,g),i.diff=o.diff||0,c.l.info("Node bounds (abc123)",t,i,i.width,i.x,i.y),(0,s.s)(g,i),c.l.warn("Recursive render complete ",g,i),e.next=25;break;case 16:if(!(n.children(t).length>0)){e.next=22;break}c.l.info("Cluster - the non recursive path XXX",t,i.id,i,n),c.l.info(b(i.id,n)),u[i.id]={id:b(i.id,n),node:i},e.next=25;break;case 22:return c.l.info("Node - the non recursive path",t,i.id,i),e.next=25,(0,s.e)(p,n.node(t),h);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return n.edges().forEach((function(e){var t=n.edge(e.v,e.w,e.name);c.l.info("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(e)),c.l.info("Edge "+e.v+" -> "+e.w+": ",e," ",JSON.stringify(n.edge(e))),c.l.info("Fix",u,"ids:",e.v,e.w,"Translateing: ",u[e.v],u[e.w]),(0,s.f)(v,t)})),n.edges().forEach((function(e){c.l.info("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(e))})),c.l.info("#############################################"),c.l.info("###                Layout                 ###"),c.l.info("#############################################"),c.l.info(n),(0,l.bK)(n),c.l.info("Graph after layout:",o.c(n)),y=0,C(n).forEach((function(e){var t=n.node(e);c.l.info("Position "+e+": "+JSON.stringify(n.node(e))),c.l.info("Position "+e+": ("+t.x,","+t.y,") width: ",t.width," height: ",t.height),t&&t.clusterNode?(0,s.p)(t):n.children(e).length>0?(D(f,t),u[t.id].node=t):(0,s.p)(t)})),n.edges().forEach((function(e){var t=n.edge(e);c.l.info("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(t),t);var r=(0,s.g)(w,e,t,u,a,n);(0,s.h)(t,r)})),n.nodes().forEach((function(e){var t=n.node(e);c.l.info(e,t.type,t.diff),"group"===t.type&&(y=t.diff)})),e.abrupt("return",{elem:g,diff:y});case 25:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),k=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n,i,a,d){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,s.a)(t,i,a,d),(0,s.b)(),(0,s.d)(),Z={},w={},v={},u={},c.l.warn("Graph at first:",o.c(n)),N(n),c.l.warn("Graph after:",o.c(n)),e.next=10,O(t,n,a);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=33.b5b5bc99.chunk.js.map